<template>
  <div
    class="flex items-center gap-x-[5px] rounded-[4px] px-[8px] py-[4px] text-[12px] font-[500] text-[#4C4C4D]"
    :style="{backgroundColor: color ? color : '#F4F5F7', color: contrastColor || ''}"
  >
    <template v-if="icon">
      <svg
        v-if="icon === 'calendar' || icon === 'calendar-green' || icon === 'calendar-red'"
        :class="{
          'text-black': icon === 'calendar',
          'text-[#3FBF64]': icon === 'calendar-green',
          'text-red-600': icon === 'calendar-red'
        }"
        width="16"
        height="16"
        viewBox="0 0 16 16"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M12.9774 2.84449H11.9107H10.6663H5.33294H4.0885H3.02183C2.77637 2.84449 2.57739 3.04348 2.57739 3.28894V12.5334C2.57739 12.7788 2.77637 12.9778 3.02183 12.9778H12.9774C13.2228 12.9778 13.4218 12.7788 13.4218 12.5334V3.28894C13.4218 3.04348 13.2228 2.84449 12.9774 2.84449ZM3.02183 1.86672C2.23636 1.86672 1.59961 2.50347 1.59961 3.28894V12.5334C1.59961 13.3189 2.23636 13.9556 3.02183 13.9556H12.9774C13.7629 13.9556 14.3996 13.3189 14.3996 12.5334V3.28894C14.3996 2.50347 13.7629 1.86672 12.9774 1.86672H11.9107H10.6663H5.33294H4.0885H3.02183Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M9.27638 5.06671C8.78546 5.06671 8.38749 5.46468 8.38749 5.9556C8.38749 6.44652 8.78546 6.84449 9.27638 6.84449C9.7673 6.84449 10.1653 6.44652 10.1653 5.9556C10.1653 5.46468 9.7673 5.06671 9.27638 5.06671Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M9.27638 7.5556C8.78546 7.5556 8.38749 7.95357 8.38749 8.44449C8.38749 8.93541 8.78546 9.33338 9.27638 9.33338C9.7673 9.33338 10.1653 8.93541 10.1653 8.44449C10.1653 7.95357 9.7673 7.5556 9.27638 7.5556Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M8.38749 10.9334C8.38749 10.4425 8.78546 10.0445 9.27638 10.0445C9.7673 10.0445 10.1653 10.4425 10.1653 10.9334C10.1653 11.4243 9.7673 11.8223 9.27638 11.8223C8.78546 11.8223 8.38749 11.4243 8.38749 10.9334Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M11.7653 5.06671C11.2744 5.06671 10.8764 5.46468 10.8764 5.9556C10.8764 6.44652 11.2744 6.84449 11.7653 6.84449C12.2562 6.84449 12.6542 6.44652 12.6542 5.9556C12.6542 5.46468 12.2562 5.06671 11.7653 5.06671Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M10.8764 8.44449C10.8764 7.95357 11.2744 7.5556 11.7653 7.5556C12.2562 7.5556 12.6542 7.95357 12.6542 8.44449C12.6542 8.93541 12.2562 9.33338 11.7653 9.33338C11.2744 9.33338 10.8764 8.93541 10.8764 8.44449Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M11.7653 10.0445C11.2744 10.0445 10.8764 10.4425 10.8764 10.9334C10.8764 11.4243 11.2744 11.8223 11.7653 11.8223C12.2562 11.8223 12.6542 11.4243 12.6542 10.9334C12.6542 10.4425 12.2562 10.0445 11.7653 10.0445Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M4.33094 5.06671C3.84002 5.06671 3.44205 5.46468 3.44205 5.9556C3.44205 6.44652 3.84002 6.84449 4.33094 6.84449C4.82186 6.84449 5.21983 6.44652 5.21983 5.9556C5.21983 5.46468 4.82186 5.06671 4.33094 5.06671Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M4.33094 7.5556C3.84002 7.5556 3.44205 7.95357 3.44205 8.44449C3.44205 8.93541 3.84002 9.33338 4.33094 9.33338C4.82186 9.33338 5.21983 8.93541 5.21983 8.44449C5.21983 7.95357 4.82186 7.5556 4.33094 7.5556Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M3.44205 10.9334C3.44205 10.4425 3.84002 10.0445 4.33094 10.0445C4.82186 10.0445 5.21983 10.4425 5.21983 10.9334C5.21983 11.4243 4.82186 11.8223 4.33094 11.8223C3.84002 11.8223 3.44205 11.4243 3.44205 10.9334Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M6.81983 5.06671C6.32891 5.06671 5.93094 5.46468 5.93094 5.9556C5.93094 6.44652 6.32891 6.84449 6.81983 6.84449C7.31075 6.84449 7.70872 6.44652 7.70872 5.9556C7.70872 5.46468 7.31075 5.06671 6.81983 5.06671Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M5.93094 8.44449C5.93094 7.95357 6.32891 7.5556 6.81983 7.5556C7.31075 7.5556 7.70872 7.95357 7.70872 8.44449C7.70872 8.93541 7.31075 9.33338 6.81983 9.33338C6.32891 9.33338 5.93094 8.93541 5.93094 8.44449Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M6.81983 10.0445C6.32891 10.0445 5.93094 10.4425 5.93094 10.9334C5.93094 11.4243 6.32891 11.8223 6.81983 11.8223C7.31075 11.8223 7.70872 11.4243 7.70872 10.9334C7.70872 10.4425 7.31075 10.0445 6.81983 10.0445Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M5.33294 1.42227C5.33294 1.07863 5.05436 0.800049 4.71072 0.800049C4.36708 0.800049 4.0885 1.07863 4.0885 1.42227V1.86672H5.33294V1.42227Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M4.0885 3.5556C4.0885 3.89925 4.36708 4.17783 4.71072 4.17783C5.05436 4.17783 5.33294 3.89925 5.33294 3.5556V2.84449H4.0885V3.5556Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M11.9107 1.42227C11.9107 1.07863 11.6321 0.800049 11.2885 0.800049C10.9449 0.800049 10.6663 1.07863 10.6663 1.42227V1.86672H11.9107V1.42227Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
        <path
          d="M10.6663 3.5556C10.6663 3.89925 10.9449 4.17783 11.2885 4.17783C11.6321 4.17783 11.9107 3.89925 11.9107 3.55561V2.84449H10.6663V3.5556Z"
          fill="currentColor"
          fill-opacity="0.5"
        />
      </svg>

      <svg
        v-if="icon === 'budget'"
        width="17"
        height="12"
        viewBox="0 0 17 12"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M2.57405 1.55572C2.37759 1.55572 2.18918 1.63376 2.05027 1.77268C1.91135 1.9116 1.83331 2.10001 1.83331 2.29646V9.70387C1.83331 9.90033 1.91135 10.0887 2.05027 10.2277C2.18918 10.3666 2.37759 10.4446 2.57405 10.4446H14.4259C14.6224 10.4446 14.8108 10.3666 14.9497 10.2277C15.0886 10.0887 15.1666 9.90033 15.1666 9.70387V2.29646C15.1666 2.10001 15.0886 1.9116 14.9497 1.77268C14.8108 1.63376 14.6224 1.55572 14.4259 1.55572H2.57405ZM1.0027 0.725114C1.41945 0.308366 1.98468 0.0742402 2.57405 0.0742402H14.4259C15.0153 0.0742402 15.5805 0.308367 15.9973 0.725114C16.414 1.14186 16.6481 1.70709 16.6481 2.29646V9.70387C16.6481 10.2932 16.414 10.8585 15.9973 11.2752C15.5805 11.692 15.0153 11.9261 14.4259 11.9261H2.57405C1.98468 11.9261 1.41945 11.692 1.0027 11.2752C0.585955 10.8585 0.351828 10.2932 0.351828 9.70387V2.29646C0.351828 1.70709 0.585954 1.14186 1.0027 0.725114Z"
          fill="black"
          fill-opacity="0.5"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M8.49998 4.51869C7.68178 4.51869 7.0185 5.18197 7.0185 6.00017C7.0185 6.81837 7.68178 7.48165 8.49998 7.48165C9.31818 7.48165 9.98146 6.81837 9.98146 6.00017C9.98146 5.18197 9.31818 4.51869 8.49998 4.51869ZM5.53701 6.00017C5.53701 4.36377 6.86358 3.0372 8.49998 3.0372C10.1364 3.0372 11.4629 4.36377 11.4629 6.00017C11.4629 7.63657 10.1364 8.96313 8.49998 8.96313C6.86358 8.96313 5.53701 7.63657 5.53701 6.00017Z"
          fill="black"
          fill-opacity="0.5"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M4.339 0.130626C4.6158 0.245279 4.79627 0.515379 4.79627 0.814981C4.79627 1.79726 4.40606 2.73932 3.71148 3.4339C3.0169 4.12847 2.07485 4.51868 1.09257 4.51868C0.792967 4.51868 0.522866 4.33821 0.408214 4.06141C0.293561 3.78462 0.356936 3.46601 0.568786 3.25416L3.53175 0.291198C3.7436 0.079348 4.06221 0.0159733 4.339 0.130626ZM15.9074 8.96313C15.318 8.96313 14.7528 9.19726 14.336 9.614C13.9193 10.0308 13.6852 10.596 13.6852 11.1854C13.6852 11.5945 13.3535 11.9261 12.9444 11.9261C12.5353 11.9261 12.2037 11.5945 12.2037 11.1854C12.2037 10.2031 12.5939 9.26102 13.2885 8.56644C13.9831 7.87186 14.9251 7.48165 15.9074 7.48165C16.3165 7.48165 16.6481 7.81329 16.6481 8.22239C16.6481 8.63149 16.3165 8.96313 15.9074 8.96313Z"
          fill="black"
          fill-opacity="0.5"
        />
      </svg>

      <svg
        v-if="icon === 'board'"
        class="flex-none"
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      ><path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M3.2 18C2.53878 18 2 17.4623 2 16.8005V4.93771C2 4.27591 2.53878 3.7382 3.2 3.7382H6.08163V2.88613C6.08163 2.59659 6.3102 2.36496 6.59592 2.36496H8.18775L8.22857 2.25742C8.4898 1.50462 9.20816 1 10 1C10.7918 1 11.5102 1.50462 11.7714 2.25742L11.8122 2.36496H13.4041C13.6898 2.36496 13.9184 2.59659 13.9184 2.88613V3.7382H16.8C17.4612 3.7382 18 4.27591 18 4.93771V16.8005C18 17.4623 17.4612 18 16.8 18H3.2ZM3.03673 16.9659H16.9714V4.77226H13.9184V5.62433C13.9184 5.91387 13.6898 6.1455 13.4041 6.1455H6.59592C6.3102 6.1455 6.08163 5.91387 6.08163 5.62433V4.77226H3.03673V16.9659ZM7.11837 5.10316H12.8898V3.4073H11.3633C11.0776 3.4073 10.849 3.17567 10.849 2.88613C10.849 2.4146 10.4735 2.03406 10.0082 2.03406C9.54286 2.03406 9.15918 2.4146 9.15918 2.88613C9.15918 3.17567 8.93061 3.4073 8.6449 3.4073H7.11837V5.10316Z"
        :fill="contrastColor || 'black'"
        fill-opacity="0.5"
      /><path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7.50583 13.9311C7.45249 13.6478 7.33968 13.3901 7.18308 13.1718C7.00077 12.9178 6.9496 12.5587 6.99849 12.246C7.11226 11.5181 6.59683 10.7531 5.82573 10.7568C5.05816 10.7531 4.54066 11.518 4.65337 12.2458C4.70182 12.5587 4.65065 12.9176 4.46761 13.1711C4.30993 13.3895 4.1965 13.6475 4.14563 13.9311L4.07381 14.3144C4.00753 14.6681 4.26844 14.9969 4.6155 14.9969H7.03596C7.38303 14.9969 7.64394 14.6681 7.57765 14.3144L7.50583 13.9311ZM5.43067 12.0321C5.43067 11.7994 5.60867 11.6086 5.82573 11.6086C6.35103 11.6319 6.35103 12.4324 5.82573 12.4557C5.60867 12.4557 5.43067 12.2648 5.43067 12.0321ZM5.56207 14.1498C5.22075 14.1498 4.95271 13.7996 5.20165 13.5571C5.54667 13.221 6.10045 13.221 6.44547 13.5571C6.69441 13.7996 6.42637 14.1498 6.08505 14.1498H5.56207ZM11.7612 13.9311C11.7078 13.6478 11.595 13.3901 11.4384 13.1718C11.2561 12.9178 11.2049 12.5587 11.2538 12.246C11.3676 11.5181 10.8522 10.7531 10.0811 10.7568C9.31349 10.7531 8.79599 11.518 8.90871 12.2458C8.95715 12.5587 8.90598 12.9176 8.72295 13.1711C8.56527 13.3895 8.45183 13.6475 8.40097 13.9311L8.32915 14.3144C8.26286 14.6681 8.52377 14.9969 8.87084 14.9969H11.2913C11.6384 14.9969 11.8993 14.6681 11.833 14.3144L11.7612 13.9311ZM9.686 12.0321C9.686 11.7994 9.864 11.6086 10.0811 11.6086C10.6064 11.6319 10.6064 12.4324 10.0811 12.4557C9.864 12.4557 9.686 12.2648 9.686 12.0321ZM9.81741 14.1498C9.47608 14.1498 9.20805 13.7996 9.45698 13.5571C9.802 13.221 10.3558 13.221 10.7008 13.5571C10.9497 13.7996 10.6817 14.1498 10.3404 14.1498H9.81741ZM15.6937 13.1718C15.8504 13.3901 15.9632 13.6478 16.0165 13.9311L16.0883 14.3144C16.1546 14.6681 15.8937 14.9969 15.5466 14.9969H13.1262C12.7791 14.9969 12.5182 14.6681 12.5845 14.3144L12.6563 13.9311C12.7072 13.6475 12.8206 13.3895 12.9783 13.1711C13.1613 12.9176 13.2125 12.5587 13.164 12.2458C13.0513 11.518 13.5688 10.7531 14.3364 10.7568C15.1075 10.7531 15.6229 11.5181 15.5092 12.246C15.4603 12.5587 15.5114 12.9178 15.6937 13.1718ZM14.3364 11.6086C14.1193 11.6086 13.9413 11.7994 13.9413 12.0321C13.9413 12.2648 14.1193 12.4557 14.3364 12.4557C14.8617 12.4324 14.8617 11.6319 14.3364 11.6086ZM13.7123 13.5571C13.4634 13.7996 13.7314 14.1498 14.0727 14.1498H14.5957C14.937 14.1498 15.2051 13.7996 14.9561 13.5571C14.6111 13.221 14.0573 13.221 13.7123 13.5571Z"
        :fill="contrastColor || 'black'"
        fill-opacity="0.5"
      /></svg>

      <svg
        v-if="icon === 'project'"
        viewBox="0 0 28 24"
        width="13"
        height="12"
        class="inline-block"
      ><path
        fill="currentColor"
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M24.9079 5.1188V3.64806C24.9079 2.2838 23.7893 1.17243 22.4162 1.17243H12.148L11.8398 0.666655C11.6523 0.373838 11.3241 0.1875 10.9758 0.1875H3.3667C1.99359 0.1875 0.875 1.29887 0.875 2.66313V21.3369C0.875 22.7011 1.99359 23.8125 3.3667 23.8125H24.6333C26.0064 23.8125 27.125 22.7011 27.125 21.3369V7.58113C27.1317 6.30338 26.1537 5.2519 24.9079 5.1188ZM2.89783 2.66313C2.89783 2.40359 3.11217 2.19063 3.3734 2.19063H10.4131L13.146 6.62282C13.3268 6.91563 13.655 7.10197 14.01 7.10197H24.6467C24.9079 7.10197 25.1222 7.31493 25.1222 7.57447V21.3369C25.1222 21.5964 24.9079 21.8094 24.6467 21.8094H3.3667C3.10548 21.8094 2.89114 21.5964 2.89114 21.3369V2.66313H2.89783ZM22.8851 5.09884H14.566L13.3804 3.17556H22.4095C22.6707 3.17556 22.8851 3.38852 22.8851 3.64806V5.09884Z"
      /></svg>
      <svg
        v-if="icon === 'contact'"
        width="14"
        height="14"
        viewBox="0 0 14 14"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M13.4508 11.4251C13.0996 10.6392 12.5899 9.92541 11.9502 9.32337C11.3125 8.71959 10.557 8.2382 9.72551 7.90578C9.71807 7.90226 9.71062 7.9005 9.70317 7.89698C10.863 7.10553 11.617 5.81633 11.617 4.36181C11.617 1.95226 9.55052 0 7 0C4.44949 0 2.38301 1.95226 2.38301 4.36181C2.38301 5.81633 3.13699 7.10553 4.29683 7.89874C4.28938 7.90226 4.28193 7.90402 4.27449 7.90754C3.44045 8.23995 2.69205 8.71658 2.04977 9.32513C1.41067 9.92763 0.901113 10.6414 0.549245 11.4269C0.203571 12.1959 0.0171405 13.0204 4.65534e-05 13.8558C-0.000450341 13.8745 0.00303479 13.8932 0.0102967 13.9107C0.0175586 13.9282 0.0284503 13.9441 0.04233 13.9576C0.0562097 13.971 0.0727966 13.9817 0.0911133 13.989C0.10943 13.9963 0.129106 14 0.148982 14H1.266C1.34791 14 1.41307 13.9384 1.41493 13.8628C1.45216 12.505 2.02929 11.2334 3.04949 10.2696C4.10507 9.27236 5.50693 8.72362 7 8.72362C8.49308 8.72362 9.89493 9.27236 10.9505 10.2696C11.9707 11.2334 12.5478 12.505 12.5851 13.8628C12.5869 13.9402 12.6521 14 12.734 14H13.851C13.8709 14 13.8906 13.9963 13.9089 13.989C13.9272 13.9817 13.9438 13.971 13.9577 13.9576C13.9715 13.9441 13.9824 13.9282 13.9897 13.9107C13.997 13.8932 14.0005 13.8745 14 13.8558C13.9813 13.0151 13.797 12.1972 13.4508 11.4251ZM7 7.38693C6.14548 7.38693 5.34123 7.07211 4.73619 6.5005C4.13114 5.92889 3.79789 5.1691 3.79789 4.36181C3.79789 3.55452 4.13114 2.79472 4.73619 2.22312C5.34123 1.65151 6.14548 1.33668 7 1.33668C7.85452 1.33668 8.65877 1.65151 9.26381 2.22312C9.86886 2.79472 10.2021 3.55452 10.2021 4.36181C10.2021 5.1691 9.86886 5.92889 9.26381 6.5005C8.65877 7.07211 7.85452 7.38693 7 7.38693Z"
          fill="#606061"
        />
      </svg>
    </template>
    <span
      v-if="text || title"
    >
      {{ title && title + ' ' }} <span :class="{'font-bold': boldText}">{{ text || budget }}</span>
    </span>
    <slot />
  </div>
</template>

<script>
export default {
  props: {
    title: {
      type: String,
      default: ''
    },
    text: {
      type: String,
      default: ''
    },
    boldText: {
      type: Boolean,
      default: false
    },
    color: {
      type: String,
      default: ''
    },
    icon: {
      type: String,
      default: ''
    },
    budget: {
      type: Number,
      default: 0
    }
  },
  computed: {
    contrastColor () {
      if (!this.color) return null

      const hexcolor = this.color.replace('#', '')
      const r = parseInt(hexcolor.substr(0, 2), 16)
      const g = parseInt(hexcolor.substr(2, 2), 16)
      const b = parseInt(hexcolor.substr(4, 2), 16)
      const yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000
      return (yiq >= 128) ? 'black' : 'white'
    }
  }
}
</script>
