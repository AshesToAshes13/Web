<template>
  <SubmenuListItem
    :count="project.children?.length ?? 0"
    :title="project.name"
    :selected="selected"
  >
    <svg
      v-if="project.members?.length > 1 && Object.keys(project.members).length > 1"
      width="30"
      height="30"
      viewBox="0 0 30 30"
      :fill="color"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M23.3813 9.48485V8.39541C23.3813 7.38485 22.5646 6.56161 21.562 6.56161H14.0645L13.8396 6.18696C13.7026 5.97006 13.463 5.83203 13.2087 5.83203H7.65284C6.65024 5.83203 5.8335 6.65527 5.8335 7.66583V21.4982C5.8335 22.5088 6.65024 23.332 7.65284 23.332H23.1808C24.1834 23.332 25.0001 22.5088 25.0001 21.4982V11.3088C25.005 10.3623 24.291 9.58344 23.3813 9.48485ZM7.31049 7.66583C7.31049 7.47358 7.46699 7.31583 7.65773 7.31583H12.7978L14.7933 10.5989C14.9253 10.8158 15.1649 10.9539 15.4242 10.9539H23.1906C23.3813 10.9539 23.5378 11.1116 23.5378 11.3039V21.4982C23.5378 21.6905 23.3813 21.8482 23.1906 21.8482H7.65284C7.4621 21.8482 7.3056 21.6905 7.3056 21.4982V7.66583H7.31049ZM21.9043 9.47006H15.8301L14.9644 8.04541H21.5571C21.7478 8.04541 21.9043 8.20316 21.9043 8.39541V9.47006Z"
        :fill="color"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M11.3488 13.3299C11.6885 13.1148 12.088 13 12.4966 13C13.0445 13 13.57 13.2062 13.9574 13.5733C14.3449 13.9403 14.5626 14.4381 14.5626 14.9572C14.5626 15.3443 14.4414 15.7228 14.2144 16.0446C13.9874 16.3665 13.6647 16.6173 13.2872 16.7655C12.9097 16.9136 12.4943 16.9524 12.0935 16.8769C11.6928 16.8013 11.3247 16.6149 11.0357 16.3412C10.7468 16.0675 10.55 15.7187 10.4703 15.3391C10.3906 14.9594 10.4315 14.5659 10.5879 14.2082C10.7442 13.8506 11.009 13.5449 11.3488 13.3299ZM11.8079 15.9337C12.0118 16.0627 12.2514 16.1316 12.4966 16.1316C12.8253 16.1316 13.1406 16.0079 13.3731 15.7876C13.6056 15.5674 13.7362 15.2687 13.7362 14.9572C13.7362 14.725 13.6635 14.4979 13.5273 14.3048C13.3911 14.1117 13.1975 13.9612 12.971 13.8723C12.7444 13.7834 12.4952 13.7601 12.2548 13.8055C12.0143 13.8508 11.7934 13.9626 11.6201 14.1269C11.4467 14.2911 11.3286 14.5003 11.2808 14.7281C11.233 14.9559 11.2575 15.1921 11.3514 15.4066C11.4452 15.6212 11.6041 15.8046 11.8079 15.9337ZM16.2153 20.0461V20.4375H15.3889H14.5626V20.0461C14.5626 19.5989 14.6779 19.1629 14.8931 18.774C14.8584 18.7355 14.8219 18.6982 14.7838 18.6621C14.3964 18.295 13.8709 18.0888 13.323 18.0888H11.6702C11.1223 18.0888 10.5968 18.295 10.2093 18.6621C9.82189 19.0291 9.60422 19.527 9.60422 20.0461V20.4375H8.77783V20.0461C8.77783 19.3193 9.08256 18.6224 9.62498 18.1085C10.1674 17.5946 10.9031 17.3059 11.6702 17.3059H13.323C14.0901 17.3059 14.8258 17.5946 15.3682 18.1085C15.3751 18.1151 15.3821 18.1217 15.3889 18.1284C15.3958 18.1217 15.4027 18.1151 15.4097 18.1085C15.9521 17.5946 16.6878 17.3059 17.4549 17.3059H19.1077C19.8748 17.3059 20.6105 17.5946 21.1529 18.1085C21.6953 18.6224 22.0001 19.3193 22.0001 20.0461V20.4375H21.1737V20.0461C21.1737 19.527 20.956 19.0291 20.5686 18.6621C20.1811 18.295 19.6556 18.0888 19.1077 18.0888H17.4549C16.907 18.0888 16.3815 18.295 15.9941 18.6621C15.956 18.6982 15.9195 18.7355 15.8848 18.774C16.0999 19.1629 16.2153 19.5989 16.2153 20.0461ZM17.1335 13.3299C17.4733 13.1148 17.8727 13 18.2813 13C18.8292 13 19.3547 13.2062 19.7422 13.5733C20.1296 13.9403 20.3473 14.4381 20.3473 14.9572C20.3473 15.3443 20.2261 15.7228 19.9991 16.0446C19.7721 16.3665 19.4494 16.6173 19.0719 16.7655C18.6944 16.9136 18.279 16.9524 17.8783 16.8769C17.4775 16.8013 17.1094 16.6149 16.8204 16.3412C16.5315 16.0675 16.3347 15.7187 16.255 15.3391C16.1753 14.9594 16.2162 14.5659 16.3726 14.2082C16.529 13.8506 16.7938 13.5449 17.1335 13.3299ZM17.5926 15.9337C17.7965 16.0627 18.0361 16.1316 18.2813 16.1316C18.6101 16.1316 18.9254 16.0079 19.1578 15.7876C19.3903 15.5674 19.5209 15.2687 19.5209 14.9572C19.5209 14.725 19.4482 14.4979 19.312 14.3048C19.1758 14.1117 18.9822 13.9612 18.7557 13.8723C18.5292 13.7834 18.2799 13.7601 18.0395 13.8055C17.799 13.8508 17.5781 13.9626 17.4048 14.1269C17.2314 14.2911 17.1134 14.5003 17.0655 14.7281C17.0177 14.9559 17.0423 15.1921 17.1361 15.4066C17.2299 15.6212 17.3888 15.8046 17.5926 15.9337Z"
        :fill="color"
      />
    </svg>

    <svg
      v-else
      width="30"
      height="30"
      viewBox="0 0 30 30"
      :fill="color"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M18.3813 4.48485V3.39541C18.3813 2.38485 17.5646 1.56161 16.562 1.56161H9.06454L8.83957 1.18696C8.70263 0.970059 8.46298 0.832031 8.20867 0.832031H2.65284C1.65024 0.832031 0.833496 1.65527 0.833496 2.66583V16.4982C0.833496 17.5088 1.65024 18.332 2.65284 18.332H18.1808C19.1834 18.332 20.0001 17.5088 20.0001 16.4982V6.30879C20.005 5.36231 19.291 4.58344 18.3813 4.48485ZM2.31049 2.66583C2.31049 2.47358 2.46699 2.31583 2.65773 2.31583H7.79785L9.79325 5.59893C9.9253 5.81583 10.1649 5.95386 10.4242 5.95386H18.1906C18.3813 5.95386 18.5378 6.11161 18.5378 6.30386V16.4982C18.5378 16.6905 18.3813 16.8482 18.1906 16.8482H2.65284C2.4621 16.8482 2.3056 16.6905 2.3056 16.4982V2.66583H2.31049ZM16.9043 4.47006H10.8301L9.96443 3.04541H16.5571C16.7478 3.04541 16.9043 3.20316 16.9043 3.39541V4.47006Z"
        :fill="color"
      />
    </svg>
  </SubmenuListItem>
</template>

<script>
import SubmenuListItem from './SubmenuListItem.vue'

export default {
  components: {
    SubmenuListItem
  },
  props: {
    project: {
      type: Object,
      default: () => ({})
    },
    selected: {
      type: Boolean,
      default: false
    }
  },
  computed: {
    color () {
      if (this.project.color !== '' && this.project.color !== '#A998B6') return this.project.color
      return 'currentColor'
    }
  }
}
</script>

<style scoped>
</style>
