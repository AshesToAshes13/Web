<template>
  <SubmenuListItem
    :count="board.children?.length ?? 0"
    :title="board.name"
    :selected="selected"
  >
    <svg
      v-if="board.members && Object.keys(board.members).length > 1"
      class="flex-none"
      width="30"
      height="30"
      viewBox="0 0 30 30"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M6.5 24.9694C5.67347 24.9694 5 24.3061 5 23.4898V8.85714C5 8.04082 5.67347 7.37755 6.5 7.37755H10.102V6.32653C10.102 5.96939 10.3878 5.68367 10.7449 5.68367H12.7347L12.7857 5.55102C13.1122 4.62245 14.0102 4 15 4C15.9898 4 16.8878 4.62245 17.2143 5.55102L17.2653 5.68367H19.2551C19.6122 5.68367 19.898 5.96939 19.898 6.32653V7.37755H23.5C24.3265 7.37755 25 8.04082 25 8.85714V23.4898C25 24.3061 24.3265 24.9694 23.5 24.9694H6.5ZM6.29592 23.6939H23.7143V8.65306H19.898V9.70408C19.898 10.0612 19.6122 10.3469 19.2551 10.3469H10.7449C10.3878 10.3469 10.102 10.0612 10.102 9.70408V8.65306H6.29592V23.6939ZM11.398 9.06122H18.6122V6.96939H16.7041C16.3469 6.96939 16.0612 6.68367 16.0612 6.32653C16.0612 5.7449 15.5918 5.27551 15.0102 5.27551C14.4286 5.27551 13.949 5.7449 13.949 6.32653C13.949 6.68367 13.6633 6.96939 13.3061 6.96939H11.398V9.06122Z"
        :fill="color"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M10.7222 13.9118C11.0819 13.684 11.5049 13.5625 11.9375 13.5625C12.5177 13.5625 13.0741 13.7808 13.4843 14.1695C13.8945 14.5581 14.125 15.0852 14.125 15.6349C14.125 16.0447 13.9967 16.4454 13.7563 16.7862C13.516 17.127 13.1743 17.3926 12.7746 17.5495C12.3749 17.7063 11.9351 17.7474 11.5107 17.6674C11.0864 17.5875 10.6966 17.3901 10.3907 17.1003C10.0848 16.8104 9.87644 16.4412 9.79203 16.0392C9.70763 15.6372 9.75095 15.2205 9.91651 14.8418C10.0821 14.4631 10.3625 14.1395 10.7222 13.9118ZM11.2083 16.6687C11.4242 16.8054 11.6779 16.8783 11.9375 16.8783C12.2856 16.8783 12.6194 16.7473 12.8656 16.5141C13.1117 16.2809 13.25 15.9646 13.25 15.6349C13.25 15.3889 13.173 15.1485 13.0288 14.9441C12.8846 14.7396 12.6796 14.5802 12.4398 14.4861C12.1999 14.392 11.936 14.3674 11.6814 14.4153C11.4268 14.4633 11.193 14.5817 11.0094 14.7556C10.8259 14.9295 10.7009 15.1511 10.6502 15.3923C10.5996 15.6335 10.6256 15.8835 10.7249 16.1107C10.8242 16.3379 10.9925 16.5321 11.2083 16.6687ZM15.875 21.023V21.4375H15H14.125V21.023C14.125 20.5495 14.2472 20.088 14.475 19.6761C14.4382 19.6354 14.3996 19.5958 14.3593 19.5576C13.9491 19.169 13.3927 18.9507 12.8125 18.9507H11.0625C10.4823 18.9507 9.92594 19.169 9.5157 19.5576C9.10547 19.9463 8.875 20.4734 8.875 21.023V21.4375H8V21.023C8 20.2535 8.32266 19.5156 8.89699 18.9715C9.47132 18.4274 10.2503 18.1217 11.0625 18.1217H12.8125C13.6247 18.1217 14.4037 18.4274 14.978 18.9715C14.9854 18.9785 14.9927 18.9855 15 18.9925C15.0073 18.9855 15.0146 18.9785 15.022 18.9715C15.5963 18.4274 16.3753 18.1217 17.1875 18.1217H18.9375C19.7497 18.1217 20.5287 18.4274 21.103 18.9715C21.6773 19.5156 22 20.2535 22 21.023V21.4375H21.125V21.023C21.125 20.4734 20.8945 19.9463 20.4843 19.5576C20.0741 19.169 19.5177 18.9507 18.9375 18.9507H17.1875C16.6073 18.9507 16.0509 19.169 15.6407 19.5576C15.6004 19.5958 15.5618 19.6354 15.525 19.6761C15.7528 20.0879 15.875 20.5495 15.875 21.023ZM16.8472 13.9118C17.2069 13.684 17.6299 13.5625 18.0625 13.5625C18.6427 13.5625 19.1991 13.7808 19.6093 14.1695C20.0195 14.5581 20.25 15.0852 20.25 15.6349C20.25 16.0447 20.1217 16.4454 19.8813 16.7862C19.641 17.127 19.2993 17.3926 18.8996 17.5495C18.4999 17.7063 18.0601 17.7474 17.6357 17.6674C17.2114 17.5875 16.8216 17.3901 16.5157 17.1003C16.2098 16.8104 16.0014 16.4412 15.917 16.0392C15.8326 15.6372 15.8759 15.2205 16.0415 14.8418C16.2071 14.4631 16.4875 14.1395 16.8472 13.9118ZM17.3333 16.6687C17.5492 16.8054 17.8029 16.8783 18.0625 16.8783C18.4106 16.8783 18.7444 16.7473 18.9906 16.5141C19.2367 16.2809 19.375 15.9646 19.375 15.6349C19.375 15.3889 19.298 15.1485 19.1538 14.9441C19.0096 14.7396 18.8046 14.5802 18.5648 14.4861C18.3249 14.392 18.061 14.3674 17.8064 14.4153C17.5518 14.4633 17.318 14.5817 17.1344 14.7556C16.9509 14.9295 16.8259 15.1511 16.7752 15.3923C16.7246 15.6335 16.7506 15.8835 16.8499 16.1107C16.9492 16.3379 17.1175 16.5321 17.3333 16.6687Z"
        :fill="color"
      />
    </svg>
    <svg
      v-else
      class="flex-none"
      width="30"
      height="30"
      viewBox="0 0 30 30"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M6.5 24.9694C5.67347 24.9694 5 24.3061 5 23.4898V8.85714C5 8.04082 5.67347 7.37755 6.5 7.37755H10.102V6.32653C10.102 5.96939 10.3878 5.68367 10.7449 5.68367H12.7347L12.7857 5.55102C13.1122 4.62245 14.0102 4 15 4C15.9898 4 16.8878 4.62245 17.2143 5.55102L17.2653 5.68367H19.2551C19.6122 5.68367 19.898 5.96939 19.898 6.32653V7.37755H23.5C24.3265 7.37755 25 8.04082 25 8.85714V23.4898C25 24.3061 24.3265 24.9694 23.5 24.9694H6.5ZM6.29592 23.6939H23.7143V8.65306H19.898V9.70408C19.898 10.0612 19.6122 10.3469 19.2551 10.3469H10.7449C10.3878 10.3469 10.102 10.0612 10.102 9.70408V8.65306H6.29592V23.6939ZM11.398 9.06122H18.6122V6.96939H16.7041C16.3469 6.96939 16.0612 6.68367 16.0612 6.32653C16.0612 5.7449 15.5918 5.27551 15.0102 5.27551C14.4286 5.27551 13.949 5.7449 13.949 6.32653C13.949 6.68367 13.6633 6.96939 13.3061 6.96939H11.398V9.06122Z"
        :fill="color"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M8 14.75C8 14.3358 8.33579 14 8.75 14H11.25C11.6642 14 12 14.3358 12 14.75C12 15.1642 11.6642 15.5 11.25 15.5H8.75C8.33579 15.5 8 15.1642 8 14.75ZM13 14.75C13 14.3358 13.3358 14 13.75 14H16.25C16.6642 14 17 14.3358 17 14.75C17 15.1642 16.6642 15.5 16.25 15.5H13.75C13.3358 15.5 13 15.1642 13 14.75ZM18.75 14C18.3358 14 18 14.3358 18 14.75C18 15.1642 18.3358 15.5 18.75 15.5H21.25C21.6642 15.5 22 15.1642 22 14.75C22 14.3358 21.6642 14 21.25 14H18.75Z"
        :fill="color"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M8 19.75C8 19.3358 8.33579 19 8.75 19H11.25C11.6642 19 12 19.3358 12 19.75C12 20.1642 11.6642 20.5 11.25 20.5H8.75C8.33579 20.5 8 20.1642 8 19.75ZM13 19.75C13 19.3358 13.3358 19 13.75 19H16.25C16.6642 19 17 19.3358 17 19.75C17 20.1642 16.6642 20.5 16.25 20.5H13.75C13.3358 20.5 13 20.1642 13 19.75ZM18.75 19C18.3358 19 18 19.3358 18 19.75C18 20.1642 18.3358 20.5 18.75 20.5H21.25C21.6642 20.5 22 20.1642 22 19.75C22 19.3358 21.6642 19 21.25 19H18.75Z"
        :fill="color"
      />
    </svg>
  </SubmenuListItem>
</template>

<script>
import SubmenuListItem from '@/components/AsideMenu/SubmenuListItem.vue'

export default {
  components: {
    SubmenuListItem
  },
  props: {
    board: {
      type: Object,
      default: () => ({})
    },
    selected: {
      type: Boolean,
      default: false
    }
  },
  computed: {
    color () {
      if (this.board.color !== '' && this.board.color !== '#A998B6') return this.board.color
      return 'currentColor'
    }
  }
}
</script>

<style scoped>
</style>
