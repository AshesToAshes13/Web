<template>
  <div class="px-[20px] pt-[22px]">
    <AsideMenuListSkeleton v-if="status == 'loading'" />
    <div
      v-if="status == 'success'"
      class="flex flex-col gap-[6px]"
    >
      <router-link to="/account/myaccount">
        <SubmenuListItem
          :selected="isTabSelected('myaccount')"
          title="Аккаунт"
          @click="closeSubmenu"
        >
          <svg
            width="30"
            height="30"
            viewBox="0 0 30 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M12.2999 10.5C12.2999 9.00883 13.5087 7.8 14.9999 7.8C16.491 7.8 17.6999 9.00884 17.6999 10.5C17.6999 11.9912 16.491 13.2 14.9999 13.2C13.5087 13.2 12.2999 11.9912 12.2999 10.5ZM14.9999 6C12.5146 6 10.4999 8.01472 10.4999 10.5C10.4999 12.9853 12.5146 15 14.9999 15C17.4851 15 19.4999 12.9853 19.4999 10.5C19.4999 8.01471 17.4851 6 14.9999 6ZM8.6999 22.2C8.6999 19.7147 10.7146 17.7 13.1999 17.7H16.7999C19.2852 17.7 21.2999 19.7147 21.2999 22.2V23.1C21.2999 23.5971 21.7028 24 22.1999 24C22.697 24 23.0999 23.5971 23.0999 23.1V22.2C23.0999 18.7206 20.2793 15.9 16.7999 15.9H13.1999C9.72051 15.9 6.8999 18.7206 6.8999 22.2V23.1C6.8999 23.5971 7.30285 24 7.7999 24C8.29696 24 8.6999 23.5971 8.6999 23.1V22.2Z"
              fill="currentColor"
            />
          </svg>
        </SubmenuListItem>
      </router-link>
      <router-link to="/account/karma">
        <SubmenuListItem
          :selected="isTabSelected('karma')"
          title="Карма"
          @click="closeSubmenu"
        >
          <svg
            width="30"
            height="30"
            viewBox="0 0 30 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M22.201 5C21.5951 4.99974 21.0056 5.19661 20.521 5.56101C20.0363 5.92541 19.6828 6.43767 19.5134 7.02078C19.3441 7.60388 19.3681 8.22634 19.5819 8.79459C19.7957 9.36284 20.1876 9.84618 20.6989 10.172L18.8725 16.5805C18.8158 16.5769 18.759 16.575 18.7022 16.5748C18.1001 16.5741 17.514 16.7692 17.0318 17.1306L13.6574 14.3117C13.8172 13.8365 13.847 13.3272 13.7438 12.8365C13.6406 12.3459 13.4082 11.892 13.0706 11.5219C12.7331 11.1519 12.3028 10.8793 11.8246 10.7325C11.3463 10.5856 10.8376 10.57 10.3512 10.6871C9.86491 10.8042 9.41876 11.0498 9.05921 11.3984C8.69966 11.747 8.43985 12.1857 8.30681 12.6691C8.17376 13.1525 8.17235 13.6627 8.3027 14.1468C8.43306 14.6309 8.69043 15.0711 9.04804 15.4217L7.06719 19.3934C6.98045 19.3852 6.89336 19.3809 6.80623 19.3808C6.13567 19.3799 5.48703 19.6201 4.97804 20.0578C4.46905 20.4954 4.13345 21.1015 4.03216 21.766C3.93088 22.4305 4.07061 23.1094 4.426 23.6795C4.78139 24.2495 5.32888 24.6729 5.9691 24.8729C6.60931 25.0728 7.29982 25.036 7.91527 24.7691C8.53072 24.5022 9.03033 24.023 9.3234 23.4184C9.61648 22.8137 9.6836 22.1238 9.51258 21.4738C9.34156 20.8238 8.94373 20.2568 8.39131 19.8758L10.2632 16.1232C10.7179 16.249 11.1969 16.2572 11.6557 16.1471C12.1144 16.0371 12.5378 15.8123 12.8865 15.4938L16.1535 18.2232C15.9316 18.7133 15.8551 19.257 15.9329 19.7896C16.0108 20.3221 16.2397 20.8209 16.5925 21.2266C16.9453 21.6323 17.4071 21.9277 17.9227 22.0777C18.4383 22.2276 18.9861 22.2257 19.5007 22.0722C20.0152 21.9187 20.4749 21.6201 20.8249 21.2119C21.1749 20.8038 21.4004 20.3034 21.4746 19.7703C21.5488 19.2373 21.4684 18.6941 21.2432 18.2055C21.018 17.717 20.6573 17.3036 20.2043 17.0148L22.0307 10.6063C22.087 10.6097 22.1437 10.612 22.201 10.612C22.9433 10.612 23.6553 10.3164 24.1802 9.79016C24.7051 9.26393 25 8.55021 25 7.80601C25 7.06181 24.7051 6.34809 24.1802 5.82186C23.6553 5.29563 22.9433 5 22.201 5ZM6.80623 23.5898C6.52943 23.5898 6.25884 23.5075 6.02869 23.3534C5.79854 23.1992 5.61916 22.9801 5.51324 22.7237C5.40731 22.4673 5.3796 22.1852 5.4336 21.9131C5.4876 21.6409 5.62089 21.3909 5.81661 21.1947C6.01234 20.9985 6.26171 20.8649 6.53319 20.8108C6.80467 20.7566 7.08607 20.7844 7.3418 20.8906C7.59753 20.9968 7.8161 21.1766 7.96989 21.4073C8.12367 21.6381 8.20575 21.9093 8.20575 22.1868C8.20533 22.5588 8.05775 22.9154 7.79538 23.1784C7.53301 23.4414 7.17727 23.5894 6.80623 23.5898ZM11.0048 14.821C10.728 14.821 10.4574 14.7387 10.2273 14.5846C9.99711 14.4304 9.81773 14.2113 9.7118 13.9549C9.60587 13.6986 9.57816 13.4165 9.63216 13.1443C9.68616 12.8722 9.81945 12.6222 10.0152 12.426C10.2109 12.2297 10.4603 12.0961 10.7318 12.042C11.0032 11.9878 11.2846 12.0156 11.5404 12.1218C11.7961 12.228 12.0147 12.4078 12.1684 12.6386C12.3222 12.8693 12.4043 13.1405 12.4043 13.418C12.4039 13.79 12.2563 14.1466 11.9939 14.4096C11.7316 14.6727 11.3758 14.8206 11.0048 14.821ZM18.7022 20.7838C18.4254 20.7838 18.1548 20.7015 17.9246 20.5473C17.6945 20.3932 17.5151 20.1741 17.4092 19.9177C17.3032 19.6613 17.2755 19.3792 17.3295 19.1071C17.3835 18.8349 17.5168 18.5849 17.7125 18.3887C17.9083 18.1925 18.1576 18.0589 18.4291 18.0047C18.7006 17.9506 18.982 17.9784 19.2377 18.0846C19.4935 18.1908 19.712 18.3706 19.8658 18.6013C20.0196 18.832 20.1017 19.1033 20.1017 19.3808C20.1013 19.7528 19.9537 20.1094 19.6913 20.3724C19.4289 20.6354 19.0732 20.7834 18.7022 20.7838ZM22.201 9.20901C21.9242 9.20901 21.6536 9.12673 21.4234 8.97256C21.1933 8.8184 21.0139 8.59928 20.908 8.34292C20.802 8.08655 20.7743 7.80445 20.8283 7.5323C20.8823 7.26014 21.0156 7.01015 21.2113 6.81394C21.4071 6.61772 21.6564 6.4841 21.9279 6.42996C22.1994 6.37583 22.4808 6.40361 22.7365 6.5098C22.9923 6.61599 23.2108 6.79582 23.3646 7.02654C23.5184 7.25726 23.6005 7.52852 23.6005 7.80601C23.6001 8.17798 23.4525 8.5346 23.1901 8.79762C22.9277 9.06065 22.572 9.2086 22.201 9.20901Z"
              fill="currentColor"
            />
          </svg>
        </SubmenuListItem>
      </router-link>
    </div>
  </div>
</template>

<script>
import AsideMenuListSkeleton from '@/components/AsideMenu/AsideMenuListSkeleton.vue'
import SubmenuListItem from '@/components/AsideMenu/SubmenuListItem.vue'

export default {
  components: {
    AsideMenuListSkeleton,
    SubmenuListItem
  },
  props: {
    menu: {
      type: Array,
      default: () => []
    }
  },
  computed: {
    status () {
      return this.$store.state.navigator.status
    }
  },
  methods: {
    isTabSelected (tab) {
      return this.$route.path.includes(tab)
    },
    closeSubmenu () {
      this.$store.state.navigator.submenu.status = false
    }
  }
}
</script>
